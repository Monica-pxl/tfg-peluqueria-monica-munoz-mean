<section class="form-section d-flex justify-content-center align-items-center">
  <div class="form-card">
    <div class="form-header">
      <i class="bi bi-plus-circle-fill"></i>
      <h2 class="fw-bold mb-2">Crear Nuevo Servicio</h2>
      <p class="text-muted">Añade un nuevo servicio al catálogo de la peluquería</p>
    </div>

    <form (ngSubmit)="crearServicio()">
      <div class="mb-4">
        <label class="form-label">
          <i class="bi bi-scissors me-2"></i>Nombre del Servicio
        </label>
        <input 
          type="text" 
          class="form-control form-control-custom" 
          [(ngModel)]="nombre" 
          name="nombre" 
          placeholder="Ej: Corte de pelo, Tinte, Manicura..."
          required>
      </div>

      <div class="mb-4">
        <label class="form-label">
          <i class="bi bi-card-text me-2"></i>Descripción
        </label>
        <textarea 
          class="form-control form-control-custom" 
          [(ngModel)]="descripcion" 
          name="descripcion" 
          rows="3"
          placeholder="Describe brevemente el servicio..."
          required></textarea>
      </div>

      <div class="row mb-4">
        <div class="col-md-4 mb-3 mb-md-0">
          <label class="form-label">
            <i class="bi bi-clock-fill me-2"></i>Duración (min)
          </label>
          <input 
            type="number" 
            class="form-control form-control-custom" 
            [(ngModel)]="duracion" 
            name="duracion" 
            placeholder="30"
            min="1"
            required>
        </div>
        <div class="col-md-4 mb-3 mb-md-0">
          <label class="form-label">
            <i class="bi bi-currency-euro me-2"></i>Precio (€)
          </label>
          <input 
            type="number" 
            class="form-control form-control-custom" 
            [(ngModel)]="precio" 
            name="precio" 
            placeholder="25.00"
            min="0.01"
            step="0.01"
            required>
        </div>
        <div class="col-md-4">
          <label class="form-label">
            <i class="bi bi-geo-alt-fill me-2"></i>Centro
          </label>
          <select class="form-select form-control-custom" [(ngModel)]="id_centro" name="id_centro" (change)="onCentroChange()" required>
            <option value="" disabled selected>Selecciona centro</option>
            <option [value]="c.id_centro" *ngFor="let c of centros">{{ c.nombre }}</option>
          </select>
        </div>
      </div>

      <div class="mb-4">
        <label class="form-label">
          <i class="bi bi-people-fill me-2"></i>Profesionales Asignados
        </label>
        <select 
          #selectProfesionales
          class="form-select form-control-custom multi-select" 
          (change)="onProfesionalesChange($event)" 
          name="id_profesionales" 
          multiple 
          size="4"
          [disabled]="!id_centro">
          <option *ngFor="let p of profesionalesFiltrados" [value]="p.id_profesional">
            {{ p.nombre }} {{ p.apellidos }}
          </option>
        </select>
        <small class="text-muted d-block mt-2">
          <i class="bi bi-info-circle me-1"></i>{{ id_centro ? 'Mantén presionado Ctrl (Cmd en Mac) para seleccionar múltiples profesionales' : 'Primero selecciona un centro' }}
        </small>
      </div>

      <div class="mb-4">
        <label class="form-label">
          <i class="bi bi-image-fill me-2"></i>URL de la Imagen
        </label>
        <input 
          type="url" 
          class="form-control form-control-custom" 
          [(ngModel)]="imagen" 
          name="imagen"
          placeholder="https://ejemplo.com/imagen.jpg"
          pattern="https?://.+">
      </div>

      <div class="form-actions">
        <button 
          type="button" 
          class="btn btn-cancel" 
          (click)="cancelar()"
          [disabled]="guardando">
          <i class="bi bi-x-circle me-2"></i>Cancelar
        </button>
        <button 
          type="submit" 
          class="btn btn-create"
          [disabled]="guardando">
          <i class="bi bi-check-circle me-2"></i>
          {{ guardando ? 'Guardando...' : 'Crear Servicio' }}
        </button>
      </div>
    </form>
  </div>
</section>
